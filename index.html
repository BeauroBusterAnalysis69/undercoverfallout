<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-GEHSCTH0GJ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-GEHSCTH0GJ');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNDERCOVER FALLOUT | Transmission from the End of Busy Work</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Space+Mono&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --cosmic-purple: #8B5CF6;
            --dead-red: #EF4444;
            --electric-teal: #14B8A6;
            --sunset-orange: #F97316;
            --cosmic-pink: #EC4899;
            --deep-space: #0a0a12;
            --card-bg: rgba(10, 10, 18, 0.85);
        }

        body {
            min-height: 100vh;
            background: var(--deep-space);
            color: #fff;
            font-family: 'Space Mono', monospace;
            overflow-x: hidden;
        }

        /* ========== BOOT SEQUENCE ========== */
        .boot-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--deep-space);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: opacity 0.8s ease, visibility 0.8s ease;
        }

        .boot-overlay.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .boot-logo {
            font-family: 'Orbitron', sans-serif;
            font-size: 2rem;
            letter-spacing: 6px;
            background: linear-gradient(135deg, var(--cosmic-purple), var(--electric-teal), var(--cosmic-pink));
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 3s ease-in-out infinite;
            margin-bottom: 40px;
        }

        .boot-terminal {
            font-family: 'Space Mono', monospace;
            font-size: 0.85rem;
            color: var(--electric-teal);
            text-align: left;
            width: 400px;
            max-width: 90%;
        }

        .boot-line {
            opacity: 0;
            margin: 8px 0;
            animation: bootFadeIn 0.3s ease forwards;
        }

        .boot-line::before {
            content: '> ';
            color: var(--cosmic-pink);
        }

        @keyframes bootFadeIn {
            to { opacity: 1; }
        }

        .boot-progress {
            width: 400px;
            max-width: 90%;
            height: 3px;
            background: rgba(255,255,255,0.1);
            border-radius: 3px;
            margin-top: 30px;
            overflow: hidden;
        }

        .boot-progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, var(--cosmic-purple), var(--electric-teal), var(--cosmic-pink));
            border-radius: 3px;
            animation: bootProgress 2.5s ease forwards;
        }

        @keyframes bootProgress {
            to { width: 100%; }
        }

        /* ========== COSMIC BACKGROUND ========== */
        .cosmic-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            background:
                radial-gradient(ellipse at 20% 80%, rgba(139, 92, 246, 0.15) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 20%, rgba(20, 184, 166, 0.15) 0%, transparent 50%),
                radial-gradient(ellipse at 40% 40%, rgba(236, 72, 153, 0.1) 0%, transparent 40%),
                radial-gradient(ellipse at 60% 60%, rgba(249, 115, 22, 0.1) 0%, transparent 40%),
                var(--deep-space);
        }

        .tiedye-flow {
            position: fixed;
            top: 0;
            left: 0;
            width: 200%;
            height: 200%;
            z-index: -1;
            opacity: 0.05;
            background: conic-gradient(from 0deg at 30% 70%,
                var(--cosmic-purple),
                var(--electric-teal),
                var(--cosmic-pink),
                var(--sunset-orange),
                var(--dead-red),
                var(--cosmic-purple));
            filter: blur(80px);
            animation: cosmicDrift 25s ease-in-out infinite;
        }

        @keyframes cosmicDrift {
            0%, 100% { transform: translate(-25%, -25%) rotate(0deg); }
            33% { transform: translate(-20%, -30%) rotate(120deg); }
            66% { transform: translate(-30%, -20%) rotate(240deg); }
        }

        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }

        .star {
            position: absolute;
            background: #fff;
            border-radius: 50%;
            animation: twinkle 3s ease-in-out infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.3); }
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        /* ========== HEADER ========== */
        header {
            text-align: center;
            padding: 40px 20px 20px;
        }

        .site-title {
            font-family: 'Orbitron', sans-serif;
            font-size: clamp(1.8rem, 6vw, 3.5rem);
            font-weight: 900;
            letter-spacing: 6px;
            background: linear-gradient(135deg,
                var(--cosmic-purple) 0%,
                var(--electric-teal) 25%,
                var(--cosmic-pink) 50%,
                var(--sunset-orange) 75%,
                var(--cosmic-purple) 100%);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 8s ease-in-out infinite;
        }

        .tagline {
            font-size: 0.8rem;
            letter-spacing: 4px;
            color: rgba(255, 255, 255, 0.5);
            margin-top: 10px;
            text-transform: uppercase;
        }

        /* ========== PLAZA SIDE ACCENTS ========== */
        .plaza-left, .plaza-right {
            position: fixed;
            top: 50%;
            transform: translateY(-50%);
            width: 280px;
            height: 500px;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        .plaza-left {
            left: 0;
            mask-image: linear-gradient(to right, black 30%, transparent 100%), linear-gradient(to bottom, transparent 0%, black 15%, black 85%, transparent 100%);
            -webkit-mask-image: linear-gradient(to right, black 30%, transparent 100%), linear-gradient(to bottom, transparent 0%, black 15%, black 85%, transparent 100%);
            mask-composite: intersect;
            -webkit-mask-composite: source-in;
        }

        .plaza-right {
            right: 0;
            mask-image: linear-gradient(to left, black 30%, transparent 100%), linear-gradient(to bottom, transparent 0%, black 15%, black 85%, transparent 100%);
            -webkit-mask-image: linear-gradient(to left, black 30%, transparent 100%), linear-gradient(to bottom, transparent 0%, black 15%, black 85%, transparent 100%);
            mask-composite: intersect;
            -webkit-mask-composite: source-in;
        }

        .plaza-left img, .plaza-right img {
            width: 560px;
            height: 100%;
            object-fit: cover;
            object-position: center 20%;
            opacity: 0.3;
            filter: grayscale(30%) contrast(1.1);
        }

        .plaza-left img {
            object-position: left 20%;
        }

        .plaza-right img {
            margin-left: -280px;
            object-position: right 20%;
        }

        @media (max-width: 1400px) {
            .plaza-left, .plaza-right {
                display: none;
            }
        }

        /* ========== MAIN CONTENT ========== */
        .main-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        /* ========== PLAYER ========== */
        .player-section {
            background: var(--card-bg);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 30px;
            backdrop-filter: blur(20px);
        }

        .now-playing-label {
            font-size: 0.7rem;
            color: var(--cosmic-pink);
            letter-spacing: 3px;
            margin-bottom: 8px;
        }

        .now-playing-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.1rem;
            color: #fff;
            margin-bottom: 5px;
        }

        .now-playing-content {
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
        }

        .now-playing-artwork {
            width: 120px;
            height: 120px;
            border-radius: 8px;
            border: 2px solid rgba(139, 92, 246, 0.4);
            object-fit: cover;
            flex-shrink: 0;
        }

        .now-playing-details {
            flex: 1;
        }

        .now-playing-summary {
            font-size: 0.8rem;
            color: rgba(255,255,255,0.6);
            line-height: 1.5;
            margin-top: 10px;
            max-height: 80px;
            overflow: hidden;
        }

        .episode-links {
            display: flex;
            gap: 15px;
            margin-top: 15px;
        }

        .episode-link {
            font-size: 0.7rem;
            color: var(--electric-teal);
            text-decoration: none;
            letter-spacing: 2px;
            padding: 8px 16px;
            border: 1px solid var(--electric-teal);
            border-radius: 20px;
            transition: all 0.3s ease;
        }

        .episode-link:hover {
            background: var(--electric-teal);
            color: var(--deep-space);
        }

        .queue-artwork {
            width: 60px;
            height: 60px;
            border-radius: 6px;
            border: 1px solid rgba(139, 92, 246, 0.3);
            object-fit: cover;
            flex-shrink: 0;
        }

        .now-playing-meta {
            font-size: 0.8rem;
            color: rgba(255,255,255,0.5);
        }

        .player-controls {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-top: 20px;
        }

        .control-btn {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(139, 92, 246, 0.4);
            color: #fff;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .control-btn:hover {
            border-color: var(--electric-teal);
            box-shadow: 0 0 20px rgba(20, 184, 166, 0.3);
            transform: scale(1.05);
        }

        .play-btn {
            width: 55px;
            height: 55px;
            background: linear-gradient(135deg, #1a5c3a, #4a4a4a);
            border: none;
            font-size: 1.3rem;
        }

        .play-btn:hover {
            box-shadow: 0 0 30px rgba(26, 92, 58, 0.5);
        }

        .progress-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .time-display {
            display: flex;
            justify-content: space-between;
            font-size: 0.75rem;
            color: rgba(255,255,255,0.5);
        }

        .progress-bar-bg {
            height: 6px;
            background: rgba(255,255,255,0.1);
            border-radius: 3px;
            cursor: pointer;
            overflow: hidden;
        }

        .progress-bar-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, var(--cosmic-purple), var(--electric-teal));
            border-radius: 3px;
            transition: width 0.1s linear;
        }

        /* ========== EPISODE QUEUE ========== */
        .queue-section {
            background: var(--card-bg);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 16px;
            padding: 25px;
            backdrop-filter: blur(20px);
        }

        .queue-header {
            font-family: 'Orbitron', sans-serif;
            font-size: 1rem;
            color: var(--electric-teal);
            letter-spacing: 3px;
            margin-bottom: 20px;
        }

        /* ========== DOCUMENTS SECTION ========== */
        .documents-section {
            background: var(--card-bg);
            border: 1px solid rgba(239, 68, 68, 0.4);
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 30px;
            backdrop-filter: blur(20px);
        }

        .documents-header {
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9rem;
            color: var(--dead-red);
            letter-spacing: 3px;
            margin-bottom: 20px;
            text-transform: uppercase;
        }

        .document-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: rgba(239, 68, 68, 0.05);
            border: 1px solid rgba(239, 68, 68, 0.2);
            border-radius: 12px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            color: #fff;
        }

        .document-item:hover {
            border-color: var(--dead-red);
            background: rgba(239, 68, 68, 0.1);
            transform: translateX(5px);
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.2);
        }

        .document-icon {
            font-size: 1.5rem;
            color: var(--dead-red);
        }

        .document-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 0.85rem;
            flex: 1;
        }

        .document-arrow {
            color: var(--dead-red);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .document-item:hover .document-arrow {
            opacity: 1;
        }

        .episode-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: rgba(255,255,255,0.02);
            border: 1px solid rgba(255,255,255,0.05);
            border-radius: 12px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .episode-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg,
                rgba(139, 92, 246, 0.2) 0%,
                rgba(20, 184, 166, 0.2) 50%,
                rgba(236, 72, 153, 0.2) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .episode-item:hover::before,
        .episode-item.active::before {
            opacity: 1;
        }

        .episode-item:hover {
            border-color: rgba(139, 92, 246, 0.4);
            transform: translateX(5px);
        }

        .episode-item.active {
            border-color: var(--electric-teal);
            box-shadow: 0 0 20px rgba(20, 184, 166, 0.2);
        }

        .episode-item > * {
            position: relative;
            z-index: 1;
        }

        .episode-number {
            font-size: 0.7rem;
            color: var(--cosmic-pink);
            letter-spacing: 2px;
            min-width: 80px;
        }

        .episode-info {
            flex: 1;
        }

        .episode-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9rem;
            color: #fff;
            margin-bottom: 4px;
        }

        .episode-duration {
            font-size: 0.75rem;
            color: rgba(255,255,255,0.4);
        }

        .episode-play-icon {
            font-size: 1.2rem;
            color: var(--electric-teal);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .episode-item:hover .episode-play-icon,
        .episode-item.active .episode-play-icon {
            opacity: 1;
        }

        /* ========== FOOTER ========== */
        footer {
            text-align: center;
            padding: 40px 20px;
            color: rgba(255,255,255,0.3);
            font-size: 0.75rem;
            letter-spacing: 2px;
        }

        /* ========== RESPONSIVE ========== */
        @media (max-width: 600px) {
            .player-controls {
                flex-wrap: wrap;
            }
            .progress-container {
                width: 100%;
                order: 1;
                margin-top: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- Boot Sequence Overlay -->
    <div class="boot-overlay" id="bootOverlay">
        <div class="boot-logo">UNDERCOVER FALLOUT</div>
        <div class="boot-terminal" id="bootTerminal"></div>
        <div class="boot-progress">
            <div class="boot-progress-bar"></div>
        </div>
    </div>

    <!-- Background Effects -->
    <div class="cosmic-bg"></div>
    <div class="tiedye-flow"></div>
    <div class="stars" id="stars"></div>

    <!-- Header -->
    <header>
        <h1 class="site-title">UNDERCOVER FALLOUT</h1>
        <p class="tagline">Transmission from the End of Busy Work</p>
    </header>

    <!-- Plaza Side Accents -->
    <div class="plaza-left"><img src="plaza-bg.jpg" alt=""></div>
    <div class="plaza-right"><img src="plaza-bg.jpg" alt=""></div>

    <!-- Main Content -->
    <div class="main-container">
        <!-- Documents Section -->
        <div class="documents-section">
            <h2 class="documents-header">Bureaucratic Deconstruction Damage Control Documents</h2>
            <a href="documents/fentanyl-corridor-assessment.html" class="document-item">
                <span class="document-icon">📁</span>
                <span class="document-title">Fentanyl Corridor Assessment</span>
                <span class="document-arrow">→</span>
            </a>
            <a href="documents/Systemic_Capture_and_Integrity_Audits.pdf" class="document-item" target="_blank">
                <span class="document-icon">📊</span>
                <span class="document-title">Systemic Capture & Integrity Audits — Slide Deck</span>
                <span class="document-arrow">→</span>
            </a>
        </div>

        <!-- Player Section -->
        <div class="player-section">
            <div class="now-playing-label">NOW PLAYING</div>
            <div class="now-playing-content">
                <img src="" alt="" class="now-playing-artwork" id="nowPlayingArtwork" style="display:none;">
                <div class="now-playing-details">
            <div class="now-playing-title" id="nowPlayingTitle">Select an episode to begin</div>
            <div class="now-playing-meta" id="nowPlayingMeta">--:--</div>
                    <div class="now-playing-summary" id="nowPlayingSummary"></div>
                </div>
            </div>
            <div class="episode-links" id="episodeLinks" style="display:none;">
                <a href="#" class="episode-link" id="transcriptLink" target="_blank">VIEW TRANSCRIPT</a>
            </div>

            <div class="player-controls">
                <button class="control-btn" id="prevBtn">&#9664;</button>
                <button class="control-btn play-btn" id="playBtn">&#9654;</button>
                <button class="control-btn" id="nextBtn">&#9654;</button>
                <div class="progress-container">
                    <div class="time-display">
                        <span id="currentTime">0:00</span>
                        <span id="totalTime">0:00</span>
                    </div>
                    <div class="progress-bar-bg" id="progressBar">
                        <div class="progress-bar-fill" id="progressFill"></div>
                    </div>
                </div>
            </div>
            <audio id="audioPlayer"></audio>
        </div>

        <!-- Episode Queue -->
        <div class="queue-section">
            <h2 class="queue-header">EPISODE QUEUE</h2>
            <div id="episodeList">
                <!-- Episodes will be dynamically inserted here -->
            </div>
        </div>
    </div>

    <footer>
        BROADCASTING FROM AN UNDISCLOSED LOCATION
    </footer>

    <script>
        // ========== BOOT SEQUENCE ==========
        const bootMessages = [
            'INITIALIZING COSMIC UPLINK...',
            'SCANNING ASTRAL FREQUENCIES...',
            'DECRYPTING TRANSMISSION PROTOCOLS...',
            'SYNCHRONIZING NEURAL PATHWAYS...',
            'CALIBRATING AUDIO MATRIX...',
            'ESTABLISHING SECURE CHANNEL...',
            'SIGNAL LOCKED',
            'WELCOME TO THE FREQUENCY'
        ];

        const bootTerminal = document.getElementById('bootTerminal');
        const bootOverlay = document.getElementById('bootOverlay');

        bootMessages.forEach((msg, i) => {
            setTimeout(() => {
                const line = document.createElement('div');
                line.className = 'boot-line';
                line.textContent = msg;
                line.style.animationDelay = '0s';
                bootTerminal.appendChild(line);
            }, i * 300);
        });

        setTimeout(() => {
            bootOverlay.classList.add('hidden');
        }, 3000);

        // ========== STARS ==========
        const starsContainer = document.getElementById('stars');
        for (let i = 0; i < 80; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            star.style.left = Math.random() * 100 + '%';
            star.style.top = Math.random() * 100 + '%';
            star.style.animationDelay = Math.random() * 3 + 's';
            const size = Math.random() * 2 + 1;
            star.style.width = size + 'px';
            star.style.height = size + 'px';
            starsContainer.appendChild(star);
        }

        // ========== EPISODE DATA ==========
        
        const episodes = [
            { number: '010', title: 'Police Corruption as a Service', duration: '18:00', file: 'episodes/010-Police-Corruption-as-a-Service/Episode-010-Police-Corruption-as-a-Service.m4a', coverArt: '', transcript: '', summary: 'Evidence lockers as logistics hubs, seized drugs looping back onto the street, and the price stability metric that proves it. Grass eater theft, catch-and-release supply chains, and why record busts never move the needle on street price or purity.' },
            { number: '009', title: 'The Franchise Model of Systemic Capture', duration: '41:00', file: 'episodes/009-Franchise-Model-of-Systemic-Capture/Episode-009-Franchise-Model-of-Systemic-Capture.m4a', coverArt: 'episodes/009-Franchise-Model-of-Systemic-Capture/episode-009-cover.png', transcript: '', summary: 'The Plaza Model goes domestic. How cartel franchise playbooks capture American cities silo by silo - police, courts, prisons, homes. Vertical integration of corruption, the digital panopticon, and why 10 compromised officers can own an entire municipality.' },
            { number: '008', title: 'Democratic Protections Services', duration: '37:00', file: 'episodes/008-Democratic-Protections-Services/Episode-008-Democratic-Protections-Services.m4a', coverArt: 'episodes/008-Democratic-Protections-Services/episode-008-cover.png', transcript: '', summary: 'Operation Glass House and the case for a Federal Institutional Integrity Agency. Truth AI vs the digital lock, calculated dissemination of immutable facts, and why winning the AI arms race is the only way to restore democratic oversight before the window closes.' },
            { number: '007', title: 'Shadows of Justice - A Deep Dive Into the Police State', duration: '37:00', file: 'episodes/007-Dirty-Work-Police-Drug-Franchise/Episode-007-Shadows-of-Justice.m4a', coverArt: 'episodes/007-Dirty-Work-Police-Drug-Franchise/episode-007-cover.png', transcript: 'episodes/007-Dirty-Work-Police-Drug-Franchise/episode-007-transcript.txt', summary: 'The El Paso paradox, dirty work theory, the blue wall of silence, and how police may operate as a drug franchise. From planted evidence to the poverty trap - a raw deep dive into systemic corruption.' },
            { number: '006', title: 'The Plaza Blueprint for Systemic Capture', duration: '37:07', file: 'episodes/006-Plaza-Blueprint/Episode-006-Plaza-Blueprint.m4a', coverArt: 'episodes/006-Plaza-Blueprint/episode-006-cover.jpg', transcript: '', summary: 'The Plaza Blueprint for Systemic Capture - exposing how institutional frameworks become tools of control.' },
            { number: '005', title: 'Jam-akas Manifesto', duration: '13:54', file: 'episodes/005-Jamakas-Manifesto/Episode-005-Jamakas-Manifesto.m4a', coverArt: 'episodes/005-Jamakas-Manifesto/episode-005-cover.jpg', transcript: 'episodes/005-Jamakas-Manifesto/episode-005-transcript.txt', summary: 'The Jam-akas Manifesto: where Faraday cages meet faith headwear. Spy dating apps, secure dead drops, and the coming battle for neural privacy. As brain-computer interfaces advance, your thoughts become data. Time to shield the wetware.' },
            { number: '004', title: 'Bureaucracy Buster / Bad Stats Demise', duration: '28:12', file: 'episodes/004-Bureaucracy-Buster-Bad-Stats-Demise/Episode-004-Bureaucracy-Buster-Bad-Stats-Demise.m4a', coverArt: 'episodes/004-Bureaucracy-Buster-Bad-Stats-Demise/episode-004-cover.jpg', transcript: 'episodes/004-Bureaucracy-Buster-Bad-Stats-Demise/episode-004-transcript.txt', summary: 'Official statistics are a bureaucratic hallucination. This episode exposes how drug use data only captures those without resources - the wealthy stay invisible to police, ERs, and treatment centers. When the sensors only see poverty, the numbers lie. AI might be the bureaucracy buster we need to see past the garbage stats.' },
            { number: '003', title: 'Good Ai Vs Bad Ai - The Struggle is Real', duration: '24:02', file: 'episodes/003-Good-Ai-Vs-Bad-Ai-The-Struggle-is-Real/Episode-003-Good-Ai-Vs-Bad-Ai-The-Struggle-is-Real.m4a', coverArt: 'episodes/003-Good-Ai-Vs-Bad-Ai-The-Struggle-is-Real/episode-003-cover.jpg', transcript: 'episodes/003-Good-Ai-Vs-Bad-Ai-The-Struggle-is-Real/episode-003-transcript.txt', summary: 'The battle between safe, restricted AI and uncensored models rages on. This episode dives into why cartels and bad actors thrive with unrestricted AI while the good guys are handicapped by safety rails - exploring the real implications of the AI arms race and what it means for those trying to use AI for legitimate defense.' },
            { number: '002', title: 'Cultivating Algorithms: What Bonsai Teaches Us About AGI', duration: '26:15', file: 'episodes/002-Cultivating-Algorithms/Episode-002-Cultivating-Algorithms.m4a', coverArt: 'episodes/002-Cultivating-Algorithms/episode-002-cover.jpg', transcript: 'episodes/002-Cultivating-Algorithms/episode-002-transcript.txt', summary: 'A philosophical journey connecting Einstein\'s E=MC², the ancient art of bonsai cultivation, and artificial intelligence. Explores how energy serves as the universal currency for all transformation - from physical growth to computational processing.' },
            { number: '001', title: 'Cultivating Intelligence: The Bonsai Analogy and The Future of AI', duration: '32:13', file: 'episodes/001-Cultivating-Intelligence/Episode-001-Cultivating-Intelligence-The-Bonsai-Analogy-and-The-Future-of-AI.m4a', coverArt: 'episodes/001-Cultivating-Intelligence/episode-001-cover.jpg', transcript: 'episodes/001-Cultivating-Intelligence/episode-001-transcript.txt', summary: 'A deep exploration of local AI infrastructure, the Bonsai analogy for understanding AI as cultivated living intelligence, the physics of computation, and the power of creative collaboration.' }
        ];

        // ========== RENDER EPISODES ==========
        const episodeList = document.getElementById('episodeList');
        episodes.forEach((ep, index) => {
            const item = document.createElement('div');
            item.className = 'episode-item';
            item.dataset.index = index;
            item.innerHTML = `
                ${ep.coverArt ? '<img src="' + ep.coverArt + '" alt="" class="queue-artwork">' : ''}
                <div class="episode-number">EP ${ep.number}</div>
                <div class="episode-info">
                    <div class="episode-title">${ep.title}</div>
                    <div class="episode-duration">${ep.duration}</div>
                </div>
                <div class="episode-play-icon">&#9654;</div>
            `;
            item.addEventListener('click', () => loadEpisode(index));
            episodeList.appendChild(item);
        });

        // ========== PLAYER LOGIC ==========
        const audio = document.getElementById('audioPlayer');
        const playBtn = document.getElementById('playBtn');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const progressBar = document.getElementById('progressBar');
        const progressFill = document.getElementById('progressFill');
        const currentTimeEl = document.getElementById('currentTime');
        const totalTimeEl = document.getElementById('totalTime');
        const nowPlayingTitle = document.getElementById('nowPlayingTitle');
        const nowPlayingMeta = document.getElementById('nowPlayingMeta');

        let currentEpisode = -1;

        function loadEpisode(index, autoPlay = true) {
            if (episodes[index].file === '') return; // No file yet

            currentEpisode = index;
            const ep = episodes[index];

            // Update UI
            document.querySelectorAll('.episode-item').forEach((item, i) => {
                item.classList.toggle('active', i === index);
            });

            nowPlayingTitle.textContent = ep.title;
            nowPlayingMeta.textContent = `Episode ${ep.number}`;

            // Update cover art
            const artwork = document.getElementById('nowPlayingArtwork');
            if (ep.coverArt) {
                artwork.src = ep.coverArt;
                artwork.style.display = 'block';
            } else {
                artwork.style.display = 'none';
            }

            // Update summary
            const summaryEl = document.getElementById('nowPlayingSummary');
            summaryEl.textContent = ep.summary || '';

            // Update links
            const linksEl = document.getElementById('episodeLinks');
            const transcriptLink = document.getElementById('transcriptLink');
            if (ep.transcript) {
                transcriptLink.href = ep.transcript;
                linksEl.style.display = 'flex';
            } else {
                linksEl.style.display = 'none';
            }

            // Load audio
            audio.src = ep.file;
            if (autoPlay) {
                audio.play();
                playBtn.innerHTML = '&#10074;&#10074;';
            }
        }

        // Auto-load latest episode on page load (without auto-play)
        loadEpisode(0, false);

        playBtn.addEventListener('click', () => {
            if (audio.paused) {
                audio.play();
                playBtn.innerHTML = '&#10074;&#10074;';
            } else {
                audio.pause();
                playBtn.innerHTML = '&#9654;';
            }
        });

        prevBtn.addEventListener('click', () => {
            if (currentEpisode > 0) loadEpisode(currentEpisode - 1);
        });

        nextBtn.addEventListener('click', () => {
            if (currentEpisode < episodes.length - 1) loadEpisode(currentEpisode + 1);
        });

        audio.addEventListener('timeupdate', () => {
            const percent = (audio.currentTime / audio.duration) * 100 || 0;
            progressFill.style.width = percent + '%';
            currentTimeEl.textContent = formatTime(audio.currentTime);
        });

        audio.addEventListener('loadedmetadata', () => {
            totalTimeEl.textContent = formatTime(audio.duration);
        });

        audio.addEventListener('ended', () => {
            playBtn.innerHTML = '&#9654;';
            if (currentEpisode < episodes.length - 1) {
                loadEpisode(currentEpisode + 1);
            }
        });

        progressBar.addEventListener('click', (e) => {
            const rect = progressBar.getBoundingClientRect();
            const percent = (e.clientX - rect.left) / rect.width;
            audio.currentTime = percent * audio.duration;
        });

        function formatTime(seconds) {
            if (isNaN(seconds)) return '0:00';
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return mins + ':' + secs.toString().padStart(2, '0');
        }
    </script>
</body>
</html>



